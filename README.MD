## âš ï¸ Rails 8 + Propshaft CSS Architecture Note

**IMPORTANT**: This app uses Rails 8 with Propshaft (not Sprockets). CSS components are compiled as separate files and must be explicitly included in the layout.

When adding new CSS files in `app/assets/stylesheets/components/` or `app/assets/stylesheets/pages/`, you MUST update the stylesheet_link_tag in `app/views/layouts/application.html.erb`:


## ğŸ§­ Part 1: Project Compass â€“ polyrythmic-trainer

### ğŸ’¡ Purpose

**Polyrythmic-Trainer** is a recovery-aware training organizer built for serious and self-directed lifters.

It helps users build and track their own custom workout schedules â€” based on chosen splits, exercises,
and intensity. It intelligently managing recovery timelines for each muscle group.

The system monitors how long each muscle has been resting, suggests whatâ€™s ready to train next, using boolians and time.
*The app promotes well rehearsed sets, and adequate recovery time*

*Polyrythmic-Trainer* enhances mental clarity by always showing you whatâ€™s coming up next in your split, keeping your next target muscle at the front of your focus before you even hit the gym.

**Behind the scenes, the app uses overlapping recovery cycles; as the number of cells in each muscle group varies greatly, so do their *periods* of recovery.**

---

### ğŸ¯ Goals (MVP)

-  Allow users to select a classic 1â€“10 day split
-  Allow users to assign exercises to each split day (from hardcoded `WORKOUTS` scroll 2 line 251 approx)
-  Build a visual calendar or rhythm-style timeline of upcoming sessions
-  Dynamically sequence sessions to respect per-muscle recovery timing
-  Prevent overtraining via smart avoidance of synergistic muscle overlap
-  Allow users to set per-exercise details (sets, reps, RPE/intensity)
-  Track only completed workouts in recovery cycle logic
-  Allow user to skip scheduled muscle groups without marking them as worked
-  Show alternate â€œreadyâ€ muscle groups for impromptu sessions


---

### ğŸ‘¥ Target Users

- **Primary**: Advanced lifters who design their own workouts and want intelligent recovery tracking, split planning, and organizational clarity
- **Secondary**: Intermediate lifters transitioning to self-programmed training who want help managing split structure, muscle recovery, and workout tracking

---

### âš™ï¸ Core Concepts

- **SplitPlan**: A user-defined structure (e.g. 6-day split) reflecting their training cadence
- **SplitDay**: One day of that plan, linked to specific muscle group(s)
- **Workout**: A specific exercise chosen by the user for that dayâ€™s target(s)
- **WorkoutLog**: A record of actual performance â€” only completed workouts contribute to recovery tracking
- **MuscleRecoveryStatus**: Logic that determines readiness for each muscle group based on real workout logs and training cycles
- **AppConstants**: Centralized config for all valid splits, workouts, muscle labels, and recovery durations

app/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ user.rb                          # âœ… has_many :split_plans, :workout_logs (with Devise)
â”‚   â”œâ”€â”€ split_plan.rb                    # âœ… belongs_to :user, has_many :split_days
â”‚   â”œâ”€â”€ split_day.rb                     # âœ… belongs_to :split_plan, has_many :workouts
â”‚   â”œâ”€â”€ workout.rb                       # âœ… belongs_to :split_day, has_many :workout_logs
â”‚   â””â”€â”€ workout_log.rb                   # âœ… belongs_to :user, :workout (actual completed session)
|
â”œâ”€â”€ javascript/
â”‚   â”œâ”€â”€ application.js                   # âœ… Bootstraps Stimulus app with Importmap
â”‚   â””â”€â”€ controllers/
â”‚       â”œâ”€â”€ application.js               # âœ… Stimulus application bootstrap
â”‚       â”œâ”€â”€ hello_controller.js          # âœ… Default Stimulus controller
â”‚       â”œâ”€â”€ index.js                     # âœ… Controller index file
â”‚       â”œâ”€â”€ split_selector_controller.js # âœ… Interactive split plan selection (working)
â”‚       â””â”€â”€ log_builder_controller.js    # âœ… Exercise selection for workouts (needs debug)
|
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ users_controller.rb              # âœ… user logs + muscle readiness
â”‚   â”œâ”€â”€ split_plans_controller.rb        # âœ… split selection, create, show, recovery setup
â”‚   â”œâ”€â”€ split_days_controller.rb         # âœ… per-day muscle config, exercise assignment
â”‚   â”œâ”€â”€ dashboard_controller.rb          # âœ… readiness + recovery schedule
â”‚   â”œâ”€â”€ workouts_controller.rb           # âœ… add/edit workouts to days, show exercise detail
â”‚   â”œâ”€â”€ workout_logs_controller.rb       # âœ… log sets/reps/RPE (scoped to workout)
â”‚   â””â”€â”€ training_archive_controller.rb   # âœ… global archive view (by muscle/date)
â”‚
â”œâ”€â”€ helpers/
â”‚   â”œâ”€â”€ application_helper.rb            # âœ… global view helpers
â”‚   â”œâ”€â”€ recovery_helper.rb               # âœ… readiness_label, current_split_muscles, log_path_for_muscle
â”‚   â””â”€â”€ workouts_helper.rb               # âœ… render_benchmark_details, parse_workout_details
â”‚
â”œâ”€â”€ views/
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â””â”€â”€ application.html.erb         # âœ… Fixed layout with Importmap (no Vite)
â”‚   â”‚
â”‚   â”œâ”€â”€ split_plans/
â”‚   â”‚   â”œâ”€â”€ index.html.erb               # âœ… list of plans
â”‚   â”‚   â”œâ”€â”€ new.html.erb                 # âœ… split selector with Stimulus controller
â”‚   â”‚   â”œâ”€â”€ initialize_recovery.html.erb # âœ… recovery seeding form
â”‚   â”‚   â””â”€â”€ show.html.erb                # âœ… split viewer (log status, recovery cards)
â”‚   â”‚
â”‚   â”œâ”€â”€ split_days/
â”‚   â”‚   â””â”€â”€ edit.html.erb                # âœ… toggle muscle config or workouts
â”‚   â”‚
â”‚   â”œâ”€â”€ workouts/
â”‚   â”‚   â”œâ”€â”€ new.html.erb                 # âœ… assign exercise
â”‚   â”‚   â”œâ”€â”€ show.html.erb                # âœ… exercise detail view (RPE, history)
â”‚   â”‚   â””â”€â”€ _form.html.erb               # âœ… shared workout form
â”‚   â”‚
â”‚   â”œâ”€â”€ workout_logs/
â”‚   â”‚   â””â”€â”€ new.html.erb                 # âœ… log performance with Stimulus (needs debug)
â”‚   â”‚
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ _muscle_countdown.html.erb   # âœ… recovery tile partial
â”‚   â”‚   â””â”€â”€ index.html.erb               # âœ… "what's trainable" view
â”‚   â”‚
â”‚   â”œâ”€â”€ training_archive/
â”‚   â”‚   â””â”€â”€ index.html.erb               # âœ… full historical log (by muscle/date)
â”‚   â”‚
â”‚   â””â”€â”€ shared/
â”‚       â”œâ”€â”€ _benchmark_panel.html.erb    # âœ… displays workout benchmark data
â”‚       â”œâ”€â”€ _workout_log_row.html.erb    # âœ… table row partial for logs
â”‚       â”œâ”€â”€ _navbar.html.erb             # âœ… main navigation with auth
â”‚       â””â”€â”€ _workout_card.html.erb       # âœ… card-style layout for workouts
|
â”œâ”€â”€ logic/
â”‚   â”œâ”€â”€ recovery_tracker.rb              # âœ… recovery countdown logic, forecast methods
â”‚   â””â”€â”€ muscle_recovery_status.rb        # âœ… per-muscle readiness engine
|
â”œâ”€â”€ presenters/
â”‚   â”œâ”€â”€ split_day_presenter.rb           # âœ… formats SplitDay layout
â”‚   â”œâ”€â”€ workout_presenter.rb             # âœ… formats workout name, reps, logs
â”‚   â””â”€â”€ workout_log_presenter.rb         # âœ… formats workout logs
â”‚
config/
â”œâ”€â”€ routes.rb                            # âœ… Nested RESTful routes with custom actions
â”œâ”€â”€ importmap.rb                         # âœ… JavaScript module management (no build step)
â””â”€â”€ initializers/
    â””â”€â”€ simple_form.rb                   # âœ… Simple Form configuration
â”‚
lib/
â””â”€â”€ app_constants.rb                     # âœ… SPLITS, WORKOUTS, LABELS, TRAINING_CYCLE
â”‚
db/
â”œâ”€â”€ migrate/
â”‚   â”œâ”€â”€ *_create_users.rb                # âœ… Basic user table
â”‚   â”œâ”€â”€ *_add_devise_to_users.rb         # âœ… Devise authentication fields
â”‚   â”œâ”€â”€ *_create_split_plans.rb          # âœ… User's training plans
â”‚   â”œâ”€â”€ *_create_split_days.rb           # âœ… Days within plans
â”‚   â”œâ”€â”€ *_create_workouts.rb             # âœ… Exercises assigned to days
â”‚   â””â”€â”€ *_create_workout_logs.rb         # âœ… Completed workout sessions
â”œâ”€â”€ schema.rb                            # âœ… Current database structure
â””â”€â”€ seeds.rb                             # âœ… Demo user with 6-day split + logs

# STATUS SUMMARY
âœ… WORKING: Authentication, routing, dashboard, recovery tracking, split creation
âœ… WORKING: Exercise selection UI, benchmark display, navigation
ğŸ”§ DEBUG NEEDED: Log-builder Stimulus controller (exercise selection â†’ JSON)
ğŸ¯ NEXT: Fix workout logging data capture, verify form submission
