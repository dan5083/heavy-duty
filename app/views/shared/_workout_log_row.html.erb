<tr>
  <td><%= log.created_at.strftime("%b %d, %Y") %></td>
  <td>
    <% parsed_details = parse_workout_details(log.details) %>
    <% if parsed_details.is_a?(Hash) && parsed_details.any? %>
      <% parsed_details.keys.each do |exercise| %>
        <span class="badge bg-primary me-1 mb-1"><%= exercise %></span>
      <% end %>
    <% else %>
      <%= log.workout&.name || "—" %>
    <% end %>
  </td>
  <td><%= AppConstants::LABELS[log.workout&.muscle_group&.to_sym] || "—" %></td>
  <td>
    <% if parsed_details.is_a?(Hash) && parsed_details.any? %>
      <% parsed_details.each do |exercise, sets| %>
        <div class="mb-2">
          <strong><%= exercise %>:</strong>
          <ol class="mb-0 mt-1">
            <% sets.each do |set| %>
              <li class="small"><%= set %></li>
            <% end %>
          </ol>
        </div>
      <% end %>
    <% else %>
      <div><strong>Logged:</strong> <%= log.details.presence || content_tag(:em, "No details recorded") %></div>
      <div class="text-muted small"><strong>Benchmark:</strong> <%= log.workout&.details.presence || "—" %></div>
    <% end %>
  </td>
</tr>
